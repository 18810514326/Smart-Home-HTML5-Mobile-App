<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">	
		<!--标准mui.css-->
		<link rel="stylesheet" href="./css/mui.min.css">
		<link rel="stylesheet" type="text/css" href="./css/icons-extra.css">
		<link rel="stylesheet" type="text/css" href="./css/mui.picker.min.css" />
		<link rel="stylesheet" href="./css/bootstrap.min.css">
		<script src="./js/jquery-3.2.1.min.js"></script>
		<script src="./js/mui.min.js"></script>
		<script src="./js/mui.picker.min.js"></script>
		<style>
			.mui-popover{
				height:300px;
			}
			#demo5  {
				margin: 3px;
				width: 80px;
				height: 80px;
				display: inline-block;
				text-align: center;
				background-color: #fff;
				border: 1px solid #ddd;
				border-radius: 40px;
				background-clip: padding-box;
			}
			#ricepic  {
				margin: 3px;
				width: 80px;
				height: 80px;
				display: inline-block;
				text-align: center;
				background-color: #fff;
				border: 1px solid #ddd;
				border-radius: 40px;
				background-clip: padding-box;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">Electric Cooker</h1>
		</header>
		<div class="mui-content" style="height:580px">
			<div class="mui-content-padded">
			<P style="text-align:center">Time of cooking:</p>
			<h1 id="clock" style="margin-left:120px;">10:00</h1>
			<p id="playbt" class="glyphicon glyphicon-play" style="font-size:50px;margin-left:145px;color:#4b7ea9"></p>
			<p id="workstate" class="mui-progressbar" style="margin:10px 0"></p>
			<p id="textstate" style="text-align:center">Stand-by</p>
			<div style="width:30%;float:left;margin-top:20px;margin-left:5%">
				<p>Rice species</p>
				<p id="choice1" style="float:left;color:#000000">Simiaomi </p>
				<a href="#Popover1" class="mui-icon mui-icon-arrowdown" style="float:left;font-size:20px"></a>
			</div>
			<div style="width:30%;float:left;margin-top:20px">
				<p>Taste</p>
				<p id="choice2" style="float:left;color:#000000">Moderate </p>
				<a href="#Popover2" class="mui-icon mui-icon-arrowdown" style="float:left;font-size:20px"></a>
			</div>
			<div style="width:30%;float:left;margin-top:20px">
				<p>Time settings</p>
				<p id="choice3" style="float:left;color:#000000">10Min </p>
				<a href="#Popover3" class="mui-icon mui-icon-arrowdown" style="float:left;font-size:20px"></a>
			</div>
			<div style="width:30%;float:left;margin:30px 10%">
				<button id='demo5' class="btn" data-options='{"type":"time"}'>
				<span class="glyphicon glyphicon-time" style="font-size:30px;color:#4b7ea9"></span>
				</button>
				<p style="margin-left:25px;color:black">Order</p>
			</div>
			<div style="width:30%;float:left;margin:30px 10%">
				<a href="#Popover4">
				<button id='ricepic'>
				<img src="images/rice.png" style="width:80%">
				</button>
				<p id="choice4" style="float:left;color:#000000;margin-left:20px">Zhufan</p>
				<p class="mui-icon mui-icon-arrowdown" style="float:left;font-size:20px;color:#4b7ea9"></p>
				</a>
			</div>
			
		
			<div id='result' class="ui-alert"></div>
			
		<div id="Popover1" class="mui-popover">
			<div class="mui-popover-arrow"></div>
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<ul id="ul1" class="mui-table-view">
						<li class="mui-table-view-cell">Dongbeimi
						</li>
						
						<li class="mui-table-view-cell">Simiaomi
						</li>
						<li class="mui-table-view-cell">Xiangmi
						</li>
						<li class="mui-table-view-cell">Wuchangmi
						</li>
					</ul>
				</div>
			</div>
		</div>
		
		<div id="Popover2" class="mui-popover">
			<div class="mui-popover-arrow"></div>
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<ul id="ul2" class="mui-table-view">
						<li class="mui-table-view-cell">Moderate
						</li>
						<li class="mui-table-view-cell">Soft
						</li>
						<li class="mui-table-view-cell">Hard
						</li>
					</ul>
				</div>
			</div>
		</div>
		
		<div id="Popover3" class="mui-popover">
			<div class="mui-popover-arrow"></div>
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<ul id="ul3" class="mui-table-view">
						<li class="mui-table-view-cell">10Min
						</li>
						<li class="mui-table-view-cell">20Min
						</li>
						<li class="mui-table-view-cell">30Min
						</li>
						<li class="mui-table-view-cell">40Min
						</li>
						<li class="mui-table-view-cell">50Min
						</li>
						<li class="mui-table-view-cell">60Min
						</li>
					</ul>
				</div>
			</div>
		</div>
		
		<div id="Popover4" class="mui-popover">
			<div class="mui-popover-arrow"></div>
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<ul id="ul4" class="mui-table-view">
						<li class="mui-table-view-cell">Zhufan
						</li>
						<li class="mui-table-view-cell">Zhuzhou
						</li>
						<li class="mui-table-view-cell">Baotang
						</li>
					</ul>
				</div>
			</div>
		</div>
		
	</div>
</div>	
		
<script>
//开始倒计时功能
	var m=10;
	var s=0;
	var mytime=null;
	function startTime(){
		var clock = document.getElementById("clock");
		clock.innerHTML=(m<10?"0"+m:m)+":"+(s<10?"0"+s:s);
		s--;  
                if(s<0){  
                    s=59;  
                    m--;  
                    if(m<0){
                    	alert('时间到！');  
                            return;
                           }
                   }
		mytime = setTimeout("startTime()",1000);
	}
//重置倒计时功能
	function stopTime(){
		if(mytime!=null){  
                    clearTimeout(mytime);  
                    mytime=null;
                    aaa=document.getElementById("choice3").innerHTML.replace('Min','')
                    $("#clock").text(aaa+":00");
                    m=parseInt(document.getElementById("choice3").innerHTML.replace('Min',''));
                    s=0;
                }
	}
//开始和暂停切换	
  	$("#playbt").click(function(){
  		$(this).toggleClass("glyphicon-pause");
 		$("#workstate").toggleClass("mui-progressbar-infinite");
 	//	$('#demo5').attr('disabled',"true");
 	//	$('#menu1').removeAttr('href');//去掉a标签中的href属性
	//	$('#menu1').removeAttr('onclick');
		if($(this).hasClass("glyphicon-pause")){
			startTime();
			$("#textstate").text("Working");
		}
		else{
			stopTime();
			$("#textstate").text("Stand-by");
		}
    });
//四个弹出菜单
var ul = document.getElementById('ul1');
var lis = ul.getElementsByTagName('li');
for(var i=0;i<lis.length;i++){
    lis[i].onclick = function(){
        $("#choice1").text(this.innerHTML);
        mui("#Popover1").popover('hide');
    }
}
var ul2 = document.getElementById('ul2');
var lis2 = ul2.getElementsByTagName('li');
for(var i=0;i<lis2.length;i++){
    lis2[i].onclick = function(){
        $("#choice2").text(this.innerHTML);
        mui("#Popover2").popover('hide');
    }
}
var ul3 = document.getElementById('ul3');
var lis3 = ul3.getElementsByTagName('li');
for(var i=0;i<lis3.length;i++){
    lis3[i].onclick = function(){
        $("#choice3").text(this.innerHTML);
        mui("#Popover3").popover('hide');
        m=parseInt(document.getElementById("choice3").innerHTML.replace('Min',''));
    }
}

var ul4 = document.getElementById('ul4');
var lis4 = ul4.getElementsByTagName('li');
for(var i=0;i<lis4.length;i++){
    lis4[i].onclick = function(){
        $("#choice4").text(this.innerHTML);
        mui("#Popover4").popover('hide');
    }
}
//预约时间功能
(function($) {
				$.init();
				var result = $('#result')[0];
				var btns = $('.btn');
				btns.each(function(i, btn) {
					btn.addEventListener('tap', function() {
						var optionsJson = this.getAttribute('data-options') || '{}';
						var options = JSON.parse(optionsJson);
						var id = this.getAttribute('id');
						/*
						 * 首次显示时实例化组件
						 * 示例为了简洁，将 options 放在了按钮的 dom 上
						 * 也可以直接通过代码声明 optinos 用于实例化 DtPicker
						 */
						var picker = new $.DtPicker(options);
						picker.show(function(rs) {
							/*
							 * rs.value 拼合后的 value
							 * rs.text 拼合后的 text
							 * rs.y 年，可以通过 rs.y.vaue 和 rs.y.text 获取值和文本
							 * rs.m 月，用法同年
							 * rs.d 日，用法同年
							 * rs.h 时，用法同年
							 * rs.i 分（minutes 的第二个字母），用法同年
							 */
							result.innerText = 'Electric cooker will start working on ' + rs.text +".";
							/* 
							 * 返回 false 可以阻止选择框的关闭
							 * return false;
							 */
							/*
							 * 释放组件资源，释放后将将不能再操作组件
							 * 通常情况下，不需要示放组件，new DtPicker(options) 后，可以一直使用。
							 * 当前示例，因为内容较多，如不进行资原释放，在某些设备上会较慢。
							 * 所以每次用完便立即调用 dispose 进行释放，下次用时再创建新实例。
							 */
							picker.dispose();
						});
					}, false);
				});
			})(mui);

</script>
	</body>

</html>